MDScreen:
    MDNavigationLayout:

        ScreenManager:
            id: screen_manager

            Screen:
                name: 'menu'

                MDScrollViewRefreshLayout:
                    id: refresh_layout
                    refresh_callback: app.refresh_callback
                    root_layout: root
                    size_hint: 1, 0.9  # Reduzindo a altura para 90% da tela

                    # Definindo a cor de fundo
                    canvas.before:
                        Color:
                            rgba: 0.29, 0, 0.51, 1  # Cor roxo escuro
                        Rectangle:
                            size: self.size
                            pos: self.pos

                    # Personalizando o indicador de atualização
                    refreshing: True  # Indica se a atualização está em andamento
                    refresh_timeout: 1.5  # Tempo limite para a animação de atualização
                    color: 0, 0, 1, 1  # Cor do indicador de atualização (azul)

                    MDGridLayout:
                        id: box
                        adaptive_height: True
                        cols: 1
                        padding: dp(5)
                MDBottomNavigation:
                    background_color: 1, 1, 1, 1  # Cor de fundo branca
                    selected_color_background: "purple"
                    text_color_active: "lightgrey"
                    height: dp(64)  # Ajuste a altura conforme necessário
                    spacing: 5

                    MDBottomNavigationItem:
                        name: 'screen 1'
                        text: 'Menu'
                        icon: 'home'
                        halign: 'center'
                        on_tab_press: app.switch_screen('menu')  # Corrigindo a referência

                        MDLabel:
                            text: 'Menu'
                            halign: 'center'

                    MDBottomNavigationItem:
                        name: 'screen 2'
                        text: 'Pesquisar'
                        icon: 'magnify'
                        halign: 'center'
                        on_tab_press: app.switch_screen('pesquisar')  # Corrigindo a referência

                        MDLabel:
                            text: 'Pesquisar'
                            halign: 'center'

                    MDBottomNavigationItem:
                        name: 'screen 3'
                        text: 'Publicações'
                        icon: 'plus-box-multiple'
                        halign: 'center'
                        on_tab_press: app.switch_screen('publicacoes')  # Corrigindo a referência

                        MDLabel:
                            text: 'Publicações'
                            halign: 'center'

                    MDBottomNavigationItem:
                        name: 'screen 4'
                        text: 'Vagas'
                        icon: 'briefcase-variant'
                        halign: 'center'
                        on_tab_press: app.switch_screen('vagas')  # Corrigindo a referência

                        MDLabel:
                            text: 'Vagas'
                            halign: 'center'

        MDNavigationDrawer:
            id: nav_drawer
            size_hint_y: 1
            spacing: 10
            background_color: 1, 1, 1, 1  # Cor de fundo branca

            FloatLayout:
                spacing: 14
                padding: dp(5)

                MDLabel:
                    id:Username
                    text: "Username"
                    font_size: dp(20)
                    halign: "center"
                    size_hint_y: None
                    height: self.texture_size[1]
                    pos_hint: {'center_x': 0.45, 'center_y': 0.94}

                Image:
                    source: 'Background\profile.png'
                    size_hint: None, None
                    size: dp(65), dp(65)  # Defina o tamanho da imagem aqui
                    pos_hint: {'center_x': 0.10,'center_y': 0.95}
                    pos: self.parent.pos

                MDIconButton:
                    icon: "account-circle"
                    theme_text_color: "Custom"
                    pos_hint: {'center_x': 0.1,'center_y': 0.03}
                    text_color: 0, 0, 0, 1  # cor Preto
                    on_release: app.change_screen('Conta')

                MDIconButton:
                    icon: "cog"
                    theme_text_color: "Custom"
                    pos_hint: {'center_x': 0.3,'center_y': 0.03}
                    text_color: 0, 0, 0, 1  # cor Preto
                    on_release: app.change_screen('configuracoes')
                
                MDIconButton:
                    icon:'bookmark-multiple'
                    theme_text_color: "Custom"
                    pos_hint: {'center_x': 0.5,'center_y': 0.03}
                    text_color: 0, 0, 0, 1  # cor Preto
                    on_release: app.change_screen('Salvos')

                MDIconButton:
                    icon:"bell-ring"
                    theme_text_color: "Custom"
                    pos_hint: {'center_x': 0.7,'center_y': 0.03}
                    text_color: 0, 0, 0, 1  # cor Preto
                    on_release: app.change_screen('notificações')

                MDIconButton:
                    icon:"chat"
                    theme_text_color: "Custom"
                    pos_hint: {'center_x': 0.9,'center_y': 0.03}
                    text_color: 0, 0, 0, 1  # cor Preto
                    on_release: app.change_screen('chat')
