MDScreen:
    MDNavigationLayout:

        ScreenManager:
            id: chat

            Screen:
                name: 'chat'
                background_color: 1, 1, 1, 1  

                MDBottomNavigation:
                    background_color: 1, 1, 1, 1  
                    selected_color_background: app.theme_cls.primary_color
                    text_color_active: 0, 0, 0, 1
                    height: dp(64)  
                    spacing: 5
                    
                    canvas.before:
                        Color:
                            rgba: 0.29, 0, 0.51, 1  
                        Rectangle:
                            size: self.size
                            pos: self.pos
                            
                    MDBottomNavigationItem:
                        name: 'Contatos'
                        text: 'Contatos'
                        icon: 'chat-processing-outline'
                        halign: 'center'
                        on_tab_press: app.switch_screen('Contatos')
                        MDIconButton:
                            icon: 'arrow-left'
                            theme_text_color: 'Custom'
                            text_color: 0, 0, 0, 1
                            pos_hint: {'center_x': 0.1, 'center_y': 0.95}
                            on_release: 
                                app.root.transition.direction = "right"
                                app.root.current = 'Menu'

                        FloatLayout:
                            size_hint: None, None
                            size: dp(200), dp(200)
                            pos_hint: {'center_x': 0.5, 'center_y': 0.95}

                            MDTextField:
                                hint_text: "Pesquisar"
                                mode: "round"
                                halign: 'left'
                                padding: 10
                                size_hint_x: None
                                size: dp(200),dp(20)
                                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                                icon_left: 'magnify'

                            MDIconButton:
                                icon: "filter"
                                theme_text_color: "Custom"
                                text_color: 0, 0, 0, 1  
                                pos_hint: {'center_x': 1.2 , 'center_y': 0.5}

                        FloatLayout:
                            size_hint: None, None
                            size: dp(360), dp(640)
                            pos_hint: {'center_x': 1, 'center_y': 0.5}
                            
                            MDFloatingActionButtonSpeedDial:
                                root_button: None
                                root_button_anim: True
                                size_hint: None, None
                                size: dp(20), dp(20)  
                                hint_radius: dp(0)  
                                data: app.data
                                md_bg_color: app.theme_cls.primary_color
                                label_text_color: "black"
                                icon: "plus"
                                elevation: 0

                        MDTextField:
                            hint_text: "Pesquisar"
                            mode: "round"
                            halign: 'left'
                            padding: 10
                            size_hint: None, None
                            size: dp(200), dp(200)
                            pos_hint: {'center_x': 0.5, 'center_y': 0.95}
                            icon_left: 'magnify'

                        MDLabel:
                            text: 'Contatos'
                            halign: 'center'

                    MDBottomNavigationItem:
                        name: 'Grupos'
                        text: 'Grupos'
                        icon: 'account-multiple-outline'
                        halign: 'center'
                        on_tab_press: app.switch_screen('Grupos')
                        MDIconButton:
                            icon: 'arrow-left'
                            theme_text_color: 'Custom'
                            text_color: 0, 0, 0, 1
                            pos_hint: {'center_x': 0.1, 'center_y': 0.95}
                            on_release: 
                                app.root.transition.direction = "right"
                                app.root.current = 'Menu'

                        FloatLayout:
                            size_hint: None, None
                            size: dp(200), dp(200)
                            pos_hint: {'center_x': 0.5, 'center_y': 0.95}

                            MDTextField:
                                hint_text: "Pesquisar"
                                mode: "round"
                                halign: 'left'
                                padding: 10
                                size_hint_x: None
                                size: dp(200),dp(20)
                                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                                icon_left: 'magnify'

                            MDIconButton:
                                icon: "filter"
                                theme_text_color: "Custom"
                                text_color: 0, 0, 0, 1  
                                pos_hint: {'center_x': 1.2 , 'center_y': 0.5}

                        FloatLayout:
                            size_hint: None, None
                            size: dp(360), dp(640)
                            pos_hint: {'center_x': 1, 'center_y': 0.5}
                            
                            MDFloatingActionButtonSpeedDial:
                                root_button: None
                                root_button_anim: True
                                size_hint: None, None
                                size: dp(20), dp(20)  
                                hint_radius: dp(0)  
                                data: app.data
                                md_bg_color: app.theme_cls.primary_color
                                label_text_color: "black"
                                icon: "plus"
                                elevation: 0
                        

                        MDLabel:
                            text: 'Grupos'
                            halign: 'center'

                    MDBottomNavigationItem:
                        name: 'Comunidades'
                        text: 'Comunidades'
                        icon: 'account-group-outline'
                        halign: 'center'
                        on_tab_press: app.switch_screen('Comunidades')

                        MDIconButton:
                            icon: 'arrow-left'
                            theme_text_color: 'Custom'
                            text_color: 0, 0, 0, 1
                            pos_hint: {'center_x': 0.1, 'center_y': 0.95}
                            on_release: 
                                app.root.transition.direction = "right"
                                app.root.current = 'Menu'

                        FloatLayout:
                            size_hint: None, None
                            size: dp(200), dp(200)
                            pos_hint: {'center_x': 0.5, 'center_y': 0.95}

                            MDTextField:
                                hint_text: "Pesquisar"
                                mode: "round"
                                halign: 'left'
                                padding: 10
                                size_hint_x: None
                                size: dp(200),dp(20)
                                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                                icon_left: 'magnify'

                            MDIconButton:
                                icon: "filter"
                                theme_text_color: "Custom"
                                text_color: 0, 0, 0, 1  
                                pos_hint: {'center_x': 1.2 , 'center_y': 0.5}

                        FloatLayout:
                            size_hint: None, None
                            size: dp(360), dp(640)
                            pos_hint: {'center_x': 1, 'center_y': 0.5}
                            
                            MDFloatingActionButtonSpeedDial:
                                root_button: None
                                root_button_anim: True
                                size_hint: None, None
                                size: dp(20), dp(20)  
                                hint_radius: dp(0)  
                                data: app.data
                                md_bg_color: app.theme_cls.primary_color
                                label_text_color: "black"
                                icon: "plus"
                                elevation: 0
                                
                             
                        MDTextField:
                            hint_text: "Pesquisar"
                            mode: "round"
                            halign: 'left'
                            padding: 10
                            size_hint: None, None
                            size: dp(200), dp(200)
                            pos_hint: {'center_x': 0.5, 'center_y': 0.95}
                            icon_left: 'magnify'

                        MDLabel:
                            text: 'Comunidades'
                            halign: 'center'
                
        MDNavigationDrawer:
            id: nav_drawer
            size_hint_y: 1
            spacing: 10
            background_color: 1, 1, 1, 1  

            FloatLayout:
                spacing: 14
                padding: dp(5)

                MDList:
                    pos_hint: {'center_x': 0.4, 'center_y': 0.31}
                    
                    ConfigItem:
                        text: "Perfil"
                        description: "Editar Perfil"
                        IconLeftWidget:
                            icon: "account-cog"
                    ConfigItem:
                        text: "Segurança"
                        description: "Configurações de segurança do aplicativo"
                        IconLeftWidget:
                            icon: "security"
                    ConfigItem:
                        text: "Visibilidade"
                        description: "Opões de visibilidade"
                        IconLeftWidget:
                            icon:"eye"
                    ConfigItem:
                        text: "Privacidade de Dados"
                        description: "Controle de privacidade e segurança de dados"
                        IconLeftWidget:
                            icon:'lock'
                    ConfigItem:
                        text: "Notificações"
                        description: "Gerencie as notificações do aplicativo"
                        IconLeftWidget:
                            icon: "bell-cog"
                    ConfigItem:
                        text: "Logout"
                        description: "Sair da conta e fazer logout do aplicativo"
                        on_release: app.show_logout_dialog()
                        IconLeftWidget:
                            icon: "logout"
                MDLabel:
                    id:Username
                    text: "Username"
                    font_size: dp(20)
                    halign: "center"
                    size_hint_y: None
                    height: self.texture_size[1]
                    pos_hint: {'center_x': 0.45, 'center_y': 0.94}

                Image:
                    source: 'Background\profile.png'
                    size_hint: None, None
                    size: dp(65), dp(65)  
                    pos_hint: {'center_x': 0.10,'center_y': 0.95}
                    pos: self.parent.pos

                MDIconButton:
                    icon: "account-circle"
                    theme_text_color: "Custom"
                    pos_hint: {'center_x': 0.1,'center_y': 0.03}
                    text_color: 0, 0, 0, 1  
                    on_release: app.change_screen('Conta')

                MDIconButton:
                    icon: "moon-waning-crescent"
                    theme_text_color: "Custom"
                    pos_hint: {'center_x': 0.3,'center_y': 0.03}
                    text_color: 0, 0, 0, 1  
                    on_release: app.change_screen('Modo_noturno')
                
                MDIconButton:
                    icon:'bookmark-multiple'
                    theme_text_color: "Custom"
                    pos_hint: {'center_x': 0.5,'center_y': 0.03}
                    text_color: 0, 0, 0, 1  
                    on_release: app.change_screen('Salvos')

                MDIconButton:
                    icon:"bell-ring"
                    theme_text_color: "Custom"
                    pos_hint: {'center_x': 0.7,'center_y': 0.03}
                    text_color: 0, 0, 0, 1  
                    on_release: app.change_screen('notificações')

                MDIconButton:
                    icon:"chat"
                    theme_text_color: "Custom"
                    pos_hint: {'center_x': 0.9,'center_y': 0.03}
                    text_color: 0, 0, 0, 1  
                    on_release: app.change_screen('chat')